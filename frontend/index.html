<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instituto Educa - Control de Asistencia v2.0</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/theme-educa.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Metadatos adicionales -->
    <meta name="description" content="Sistema moderno de control de asistencia para Instituto Educa">
    <meta name="author" content="Instituto Educa">
    <meta name="keywords" content="asistencia, control, horarios, empleados, educaci√≥n">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéì</text></svg>">
</head>
<body>
    <!-- Pantalla de Login -->
    <div id="loginScreen" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <i class="fas fa-graduation-cap"></i>
                <h1>Instituto Educa</h1>
                <p>Sistema de Control de Asistencia v2.0</p>
                <small>Gesti√≥n inteligente de horarios y asistencia</small>
            </div>
            
            <div class="login-content">
                <form id="loginForm" class="login-form">
                    <div class="form-group">
                        <label for="username" class="form-label">
                            <i class="fas fa-user"></i> Usuario:
                        </label>
                        <input type="text" id="username" class="form-input" placeholder="Ingresa tu usuario" required autocomplete="username">
                    </div>
                    
                    <div class="form-group">
                        <label for="password" class="form-label">
                            <i class="fas fa-lock"></i> Contrase√±a:
                        </label>
                        <input type="password" id="password" class="form-input" placeholder="Ingresa tu contrase√±a" required autocomplete="current-password">
                    </div>
                    
                    <button type="submit" class="btn btn-primary login-submit">
                        <i class="fas fa-sign-in-alt"></i> Iniciar Sesi√≥n
                    </button>
                </form>
                
                <div class="login-divider">
                    <span>o</span>
                </div>
                
                <div class="quick-login">
                    <h4>Acceso R√°pido (Demo):</h4>
                    <div class="quick-login-buttons">
                        <button id="btnEmployee" class="login-btn employee-btn" title="Acceso como empleado regular">
                            <i class="fas fa-user"></i>
                            <span>Empleado</span>
                            <small>Registro b√°sico</small>
                        </button>
                        
                        <button id="btnSupervisor" class="login-btn supervisor-btn" title="Acceso como supervisor de √°rea">
                            <i class="fas fa-user-tie"></i>
                            <span>Supervisor</span>
                            <small>Gesti√≥n de equipo</small>
                        </button>
                        
                        <button id="btnAdmin" class="login-btn admin-btn" title="Acceso completo de administrador">
                            <i class="fas fa-user-shield"></i>
                            <span>Administrador</span>
                            <small>Control total</small>
                        </button>
                    </div>
                </div>
                
                <div class="login-info">
                    <h5><i class="fas fa-info-circle"></i> Usuarios de Prueba:</h5>
                    <div class="demo-accounts">
                        <div class="account-item">
                            <span class="account-role">üë®‚Äçüíº Empleado:</span>
                            <code>juan.perez / emp123</code>
                        </div>
                        <div class="account-item">
                            <span class="account-role">üë©‚Äçüíº Supervisor:</span>
                            <code>maria.garcia / sup123</code>
                        </div>
                        <div class="account-item">
                            <span class="account-role">üîß Admin:</span>
                            <code>admin / admin123</code>
                        </div>
                    </div>
                    
                    <div class="login-features">
                        <h6>Caracter√≠sticas del Sistema:</h6>
                        <ul>
                            <li><i class="fas fa-check"></i> Registro autom√°tico y manual</li>
                            <li><i class="fas fa-check"></i> Gesti√≥n de turnos y horarios</li>
                            <li><i class="fas fa-check"></i> Reportes avanzados</li>
                            <li><i class="fas fa-check"></i> Dashboard con KPIs en tiempo real</li>
                            <li><i class="fas fa-check"></i> Control de roles y permisos</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Principal -->
    <div id="mainApp" class="main-app hidden">
        <nav class="navbar">
            <div class="nav-brand">
                <i class="fas fa-graduation-cap"></i>
                <span>Instituto Educa</span>
                <span class="version-badge">v2.0</span>
            </div>
            
            <div class="nav-center" id="navigationMenu">
                <!-- Men√∫ din√°mico basado en permisos -->
            </div>
            
            <div class="nav-user">
                <div class="user-notifications">
                    <button id="notificationBtn" class="notification-btn" title="Notificaciones">
                        <i class="fas fa-bell"></i>
                        <span id="notificationBadge" class="notification-badge" style="display: none;"></span>
                    </button>
                </div>
                
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <div class="user-details">
                        <span class="user-name" id="userName">Usuario</span>
                        <span class="user-role" id="userRole">Rol</span>
                    </div>
                </div>
                
                <button id="btnLogout" class="btn-logout" title="Cerrar sesi√≥n">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </nav>

        <div class="container">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <h3><i class="fas fa-list"></i> Navegaci√≥n</h3>
                </div>
                <ul id="menuItems" class="menu-list">
                    <!-- Se llena din√°micamente seg√∫n el rol -->
                </ul>
                
                <!-- Widget de estado del sistema -->
                <div class="sidebar-widget" id="systemStatus">
                    <h4><i class="fas fa-heartbeat"></i> Estado del Sistema</h4>
                    <div class="status-item">
                        <span class="status-label">Usuarios activos:</span>
                        <span class="status-value" id="activeUsers">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">√öltima actualizaci√≥n:</span>
                        <span class="status-value" id="lastUpdate">-</span>
                    </div>
                </div>
            </aside>

            <main class="content">
                <div id="contentArea">
                    <!-- Contenido din√°mico seg√∫n la opci√≥n seleccionada -->
                </div>
            </main>
        </div>
    </div>

    <!-- Notificaciones Toast -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Centro de Notificaciones -->
    <div id="notificationCenter" class="notification-center">
        <div class="notification-header">
            <h3>Notificaciones</h3>
            <div class="notification-controls">
                <button class="btn btn-sm" onclick="Notifications.markAllAsRead()">
                    <i class="fas fa-check-double"></i> Marcar todas como le√≠das
                </button>
            </div>
        </div>
        <div id="notificationsList" class="notifications-list">
            <!-- Se llena din√°micamente -->
        </div>
    </div>

    <!-- Scripts Core -->
    <script src="js/utils.js"></script>
    <script src="js/api-service.js"></script>
    <script src="js/data-factory.js"></script>
    <script src="js/event-bus.js"></script>
    <script src="js/services.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/database.js"></script>
    
    <!-- Scripts de UI -->
    <script src="js/dashboard.js"></script>
    <script src="js/supervisor.js"></script>
    
    <!-- Script Principal -->
    <script src="js/app.js"></script>
</body>
</html>